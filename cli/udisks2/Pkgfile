# Depends on: acl libgudev expat libatasmart libxslt polkit gobject-introspection docbook-xsl libblockdev


packager="sipo"
contributors=""
maintainer="sipo"


description="Disk Management Service, version 2"
url="https://www.freedesktop.org/wiki/Software/udisks"


name=udisks2
version=2.8.2
release=1


source=(https://github.com/storaged-project/udisks/archive/$name-$version.tar.gz)


prepare(){
  cd udisks-udisks-$version
  NOCONFIGURE=1 ./autogen.sh
}

build() {
  cd udisks-udisks-$version
  ./configure --prefix=/usr --sysconfdir=/etc \
      --sbindir=/usr/bin --libexecdir=/usr/lib \
      --with-systemdsystemunitdir=/usr/lib/systemd/system \
      --localstatedir=/var --disable-static \
      --enable-gtk-doc enable_available_modules=yes
  make
}


package() {
  cd udisks-udisks-$version
  make DESTDIR="$PKG" install
}
