# Depends on: libsoup liboauth gcr gnome-online-accounts intltool gobject-introspection vala uhttpmock git gtk-doc autoconf-archive


packager="sipo"
contributors=""
maintainer="sipo"


description="GLib-based library for accessing online service APIs using the GData protocol"
url="https://wiki.gnome.org/Projects/libgdata"


name=libgdata
version=0.17.9
release=1


source=()


prepare(){
  git clone https://gitlab.gnome.org/GNOME/libgdata.git
  cd $name
  NOCONFIGURE=1 ./autogen.sh
}

build() {
  cd $name
  ./configure --prefix=/usr --disable-static --enable-gtk-doc
  sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
  make
}


package() {
  cd $name
  make DESTDIR="$PKG" install
}
