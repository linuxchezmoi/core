# Depends on: gtk3 pcre2 gnutls intltool gobject-introspection vala git gtk-doc gperf


packager="sipo"
contributors=""
maintainer="sipo"


description="Virtual Terminal Emulator widget for use with GTK3"
url="https://wiki.gnome.org/Apps/Terminal/VTE"


name=vte3
version=0.56.0
release=1


source=()


prepare() {
git clone https://gitlab.gnome.org/GNOME/vte.git
cd vte
NOCONFIGURE=1 ./autogen.sh
}

build() {
cd vte
./configure --prefix=/usr --sysconfdir=/etc --libexecdir=/usr/lib/vte \
 --localstatedir=/var --disable-static --enable-introspection  --enable-gtk-doc
sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
make
}

package() {
cd vte
make DESTDIR="$PKG" install
rm "$PKG"/etc/profile.d/vte.sh
}
