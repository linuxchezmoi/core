# Depends on: gtk2 enchant intltool gtk-doc


packager="sipo"
contributors=""
maintainer="sipo"


description="Provides word-processor-style highlighting and replacement of misspelled words in a GtkTextView widget"
url="http://gtkspell.sourceforge.net/"


name=gtkspell
version=2.0.16
release=1


source=(https://downloads.sourceforge.net/sourceforge/gtkspell/gtkspell-$version.tar.gz 
		enchant-2.diff)


prepare(){
  cd $name-$version

  # enchant 2.2
  patch -Np1 -i ../enchant-2.diff

  gtkdocize
  autoreconf -fvi
}

build() {
  cd $name-$version
  ./configure --prefix=/usr --disable-static
  sed -i -e 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool
  make
}

package() {
  cd $name-$version
  make DESTDIR="${PKG}" install
}
